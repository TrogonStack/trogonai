_metadata:
  major_version: 1
  minor_version: 1

display_information:
  name: TrogonAI
  description: Claude-powered assistant connected via NATS JetStream.
  background_color: "#1a1a2e"

features:
  app_home:
    home_tab_enabled: false
    messages_tab_enabled: true
    messages_tab_read_only_enabled: false
  bot_user:
    display_name: TrogonAI
    always_online: true
  slash_commands:
    - command: /trogon
      description: Send a command to TrogonAI (e.g. `/trogon clear`)
      usage_hint: "[clear | <question>]"
      should_escape: false

oauth_config:
  scopes:
    bot:
      # ── Messaging ──────────────────────────────────────────────────────────
      - chat:write            # Post messages in channels the bot has joined
      - chat:write.public     # Post to public channels without joining first
      # ── Reactions ──────────────────────────────────────────────────────────
      - reactions:write       # Add / remove emoji reactions
      - reactions:read        # Read reactions on messages
      # ── Channel access ─────────────────────────────────────────────────────
      - channels:history      # Read message history of public channels
      - channels:read         # View basic channel info
      - groups:history        # Read message history of private channels/groups
      - groups:read           # View private channel info (joined only)
      - im:history            # Read DM history
      - im:read               # View DM metadata
      - im:write              # Open DMs
      - mpim:history          # Read multi-party DM history
      - mpim:read             # View multi-party DM metadata
      # ── Pins ───────────────────────────────────────────────────────────────
      - pins:read             # List pins in channels
      - pins:write            # Add / remove pins

settings:
  # Socket Mode: the bot connects outbound — no public URL required.
  socket_mode_enabled: true
  org_deploy_enabled: false
  token_rotation_enabled: false
  event_subscriptions:
    bot_events:
      # ── Messages ───────────────────────────────────────────────────────────
      - message.channels      # Public channel messages (requires channels:history)
      - message.groups        # Private channel messages (requires groups:history)
      - message.im            # Direct messages (requires im:history)
      - message.mpim          # Multi-party DMs (requires mpim:history)
      # ── Mentions ───────────────────────────────────────────────────────────
      - app_mention           # @bot mentions in any channel
      # ── Reactions ──────────────────────────────────────────────────────────
      - reaction_added        # Emoji added to a message
      - reaction_removed      # Emoji removed from a message
      # ── Pins ───────────────────────────────────────────────────────────────
      - pin_added             # Item pinned in a channel
      - pin_removed           # Item unpinned from a channel
      # ── Membership ─────────────────────────────────────────────────────────
      - member_joined_channel # User joined a channel
      - member_left_channel   # User left a channel
      # ── Channels ───────────────────────────────────────────────────────────
      - channel_created       # New channel created
      - channel_deleted       # Channel deleted
      - channel_archive       # Channel archived
      - channel_unarchive     # Channel unarchived
      - channel_rename        # Channel renamed
  interactivity:
    is_enabled: true          # Required for Block Kit button / action callbacks
